<input type="text" [attr.name]="name" [(ngModel)]="text"
    (keyup)="onKeyUp($event)"
    (keydown.arrowup)="onUp($event)" (keydown.arrowdown)="onDown($event)"
    (keyup.enter)="onEnter($event)" (keydown.tab)="onEnter($event)"
    (keyup.esc)="onEscape()"
    (blur)="onBlur($event)"
    autocomplete="false"
    #input
    />
<ul *ngIf="autocompleteEntries.length > 0">
    <li #listItem *ngFor="let e of autocompleteEntries; let i = index" [class.selected]="selectedIndex == i" (click)="selectIndex(i, $event)">
        <ng-template [ngTemplateOutlet]="template" [ngTemplateOutletContext]="{ $implicit: e }"></ng-template>
    </li>
</ul>
<ng-template #defaultTemplate let-entry>{{entry}}</ng-template>